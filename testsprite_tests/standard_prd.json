{
  "meta": {
    "project": "Digital Solar Web Application",
    "date": "2025-12-30",
    "prepared_by": "Software Development Manager"
  },
  "product_overview": "Digital Solar is a comprehensive web platform enabling users to discover community solar projects, reserve their share of solar capacity, connect their utility accounts, view electricity bills with solar credits applied, and monitor their environmental impact through a user-friendly dashboard. The platform offers a seamless and secure onboarding and payment process, with responsive design and real-time data integration.",
  "core_goals": [
    "Provide an intuitive onboarding experience for new users to sign up and start reserving solar capacity quickly.",
    "Enable browsing and reservation of community solar projects with real-time pricing and availability.",
    "Facilitate secure payment processing for capacity reservations.",
    "Allow users to connect their electricity utility accounts to receive automatic solar credits.",
    "Display detailed user dashboards with stats on capacity reserved, cost savings, and environmental impact.",
    "Provide visibility into electricity bills with applied solar credits and payment functionality.",
    "Ensure robust security with authenticated sessions, RLS policies, and input validation.",
    "Offer a responsive, accessible, and modern UI across devices."
  ],
  "key_features": [
    "Landing page with hero section, animated visuals, calculators, testimonials, and call-to-action components.",
    "User authentication with signup, login, password reset, and session management using Supabase Auth.",
    "Dashboard featuring real-time monitoring of solar capacity, savings, environmental impact, and recent activities.",
    "Project browsing and capacity reservation flow with interactive project cards, capacity selection slider, and payment integration (simulated with Razorpay readiness).",
    "Utility connection module for mapping user utility accounts to state/DISCOM providers with validation.",
    "Bills management interface showing electricity bills with automatically applied solar credits and payment capabilities.",
    "Backend API routes supporting user profile, project data, allocations, live statistics, billing, and notifications with middleware for route protection.",
    "Reusable UI components and custom hooks for animations, scroll effects, gestures, and parallax.",
    "Secure backend integration using Supabase with RLS policies, triggers, indexes, and session management.",
    "Settings, help center with FAQs, refund policy, and user support pages."
  ],
  "user_flow_summary": [
    "User visits the landing page, learns about benefits, and is guided to sign up or log in.",
    "User creates an account with email/password or logs in, with session management to keep them authenticated.",
    "Once logged in, user browses available solar community projects with real-time pricing and details.",
    "User selects desired solar capacity portion via a slider and proceeds to the payment page to reserve capacity.",
    "Upon payment confirmation, user is guided to connect their electricity utility account to receive solar credits.",
    "User views their dashboard showing real-time stats on reserved capacity, savings, COâ‚‚ reduction, and recent activity.",
    "User can access bills page to see electricity bills with solar credits applied and make payments if needed.",
    "User can manage their settings, access help center FAQs, or request refunds for reservations as per policy."
  ],
  "validation_criteria": [
    "All user authentication flows work securely and sessions are properly managed.",
    "Project browsing and filtering show accurate, real-time project data.",
    "Capacity reservation and payment processing flow complete successfully with order summary and payment confirmation.",
    "Utility connection validates state and DISCOM mapping correctly and associates accounts with the user.",
    "Dashboard data updates in real-time reflecting current allocations, savings, and environmental impact.",
    "Bills page accurately displays applied solar credits and allows simulated payments.",
    "API endpoints respond correctly with proper authorization and error handling.",
    "Landing page animations and calculators function responsively across devices.",
    "Refund and exit features work as specified in refund management pages.",
    "All UI components maintain consistency, accessibility, and responsive behavior.",
    "Security measures including RLS, input validation, and session security are enforced throughout the application."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 14.2.5",
      "React 18.3.1",
      "Tailwind CSS",
      "Supabase",
      "Framer Motion",
      "React Three Fiber",
      "Zod",
      "Zustand"
    ],
    "features": [
      {
        "name": "Landing Page",
        "description": "Main homepage with hero section, animations, calculators, testimonials, and call-to-action sections",
        "files": [
          "app/page.tsx",
          "components/features/landing/AnimatedHeadline.tsx",
          "components/features/landing/AnimatedSVG.tsx",
          "components/features/landing/GlassCard.tsx",
          "components/features/landing/Hero3D.tsx",
          "components/features/landing/InlineCalculator.tsx",
          "components/features/landing/LiveStats.tsx",
          "components/features/landing/LiveStatsTicker.tsx",
          "components/features/landing/Newsletter.tsx",
          "components/features/landing/ParticleSystem.tsx",
          "components/features/landing/ProcessVisualization.tsx",
          "components/features/landing/ScrollAnimation.tsx",
          "components/features/landing/StickyCTA.tsx",
          "components/features/landing/Testimonials.tsx",
          "components/features/landing/UtilityCompatibilityChecker.tsx"
        ]
      },
      {
        "name": "User Authentication",
        "description": "User signup, login, password reset, and session management with Supabase Auth",
        "files": [
          "app/login/page.tsx",
          "app/signup/page.tsx",
          "app/forgot-password/page.tsx",
          "lib/supabase/client.ts",
          "lib/supabase/server.ts",
          "lib/supabase/middleware.ts",
          "middleware.ts"
        ]
      },
      {
        "name": "Dashboard",
        "description": "User dashboard showing capacity, savings, environmental impact, and real-time monitoring",
        "files": [
          "app/dashboard/page.tsx",
          "components/features/dashboard/RealTimeMonitoring.tsx",
          "app/api/dashboard/route.ts"
        ]
      },
      {
        "name": "Project Reservation",
        "description": "Browse and reserve solar capacity from community projects with payment integration",
        "files": [
          "app/reserve/page.tsx",
          "app/reserve/payment/page.tsx",
          "app/reserve/success/page.tsx",
          "app/api/projects/route.ts",
          "app/api/allocations/route.ts"
        ]
      },
      {
        "name": "Utility Connection",
        "description": "Connect electricity provider accounts to receive automatic solar credits",
        "files": [
          "app/connect/page.tsx",
          "app/connect/multiple/page.tsx",
          "lib/bbps/client.ts"
        ]
      },
      {
        "name": "Bills Management",
        "description": "View electricity bills with applied solar credits and payment functionality",
        "files": [
          "app/bills/page.tsx",
          "components/features/bills/BillPayment.tsx",
          "app/api/bills/route.ts",
          "app/api/bills/pay/route.ts"
        ]
      },
      {
        "name": "Payment Processing",
        "description": "Payment integration with Razorpay for capacity reservations",
        "files": [
          "app/api/payments/route.ts",
          "app/api/payments/verify/route.ts"
        ]
      },
      {
        "name": "API Routes",
        "description": "Backend API endpoints for stats, credits, notifications, and user management",
        "files": [
          "app/api/stats/live/route.ts",
          "app/api/credits/route.ts",
          "app/api/notifications/route.ts",
          "app/api/user/route.ts",
          "app/api/user/profile/route.ts",
          "app/api/monitoring/realtime/route.ts",
          "app/api/newsletter/subscribe/route.ts"
        ]
      },
      {
        "name": "Layout Components",
        "description": "Header and footer navigation components",
        "files": [
          "components/layout/header.tsx",
          "components/layout/footer.tsx"
        ]
      },
      {
        "name": "UI Components",
        "description": "Reusable UI components like buttons, cards, inputs, and loading states",
        "files": [
          "components/ui/button.tsx",
          "components/ui/card.tsx",
          "components/ui/input.tsx",
          "components/ui/loading.tsx",
          "components/ui/skeleton.tsx"
        ]
      },
      {
        "name": "Custom Hooks",
        "description": "React hooks for animations, scroll effects, parallax, gestures, and stats counting",
        "files": [
          "hooks/useHeroAnimation.ts",
          "hooks/useScrollAnimation.ts",
          "hooks/useParallax.ts",
          "hooks/useGesture.ts",
          "hooks/useStatsCounter.ts"
        ]
      },
      {
        "name": "Utilities and Helpers",
        "description": "Utility functions for formatting, validation, animations, and security",
        "files": [
          "lib/utils.ts",
          "lib/validations.ts",
          "lib/animations.ts",
          "lib/constants.ts",
          "lib/security/inputSanitizer.ts",
          "lib/security/xssProtection.ts",
          "lib/security/csrfProtection.ts"
        ]
      },
      {
        "name": "Settings and Help",
        "description": "User settings page and help center with FAQs",
        "files": [
          "app/settings/page.tsx",
          "app/help/page.tsx",
          "app/contact/page.tsx"
        ]
      },
      {
        "name": "Refund Management",
        "description": "Refund policy and exit feature for capacity reservations",
        "files": [
          "app/refund/page.tsx"
        ]
      }
    ]
  }
}
